{% extends 'base.html' %}

{% block title %}Commit {{ commit.hash[:7] }} - {{ repo_name }}{% endblock %}

{% block content %}
<div class="breadcrumbs">
    <a href="{{ url_for('viewRepo', repo_name=repo_name) }}">{{ repo_name }}</a>
    / 
    <a href="{{ url_for('viewCommits', repo_name=repo_name, ref='HEAD') }}">Commits</a>
    /
    <span>{{ commit.hash[:7] }}</span>
</div>

<div class="commit-header">
    <h2>{{ commit.subject }}</h2>
    {% if commit.body %}
    <pre class="commit-body">{{ commit.body }}</pre>
    {% endif %}
    
    <div class="commit-meta" style="margin-top: 10px; padding: 10px; background-color: #f5f5f5; border-radius: 4px;">
        <div><strong>Author:</strong> {{ commit.author }} &lt;{{ commit.email }}&gt;</div>
        <div><strong>Date:</strong> {{ commit.date }}</div>
        <div><strong>Commit:</strong> <code>{{ commit.hash }}</code></div>
    </div>
</div>

<div class="commit-diff" style="margin-top: 20px;">
    <h3>Changes</h3>
    <pre style="background-color: #f8f8f8; padding: 10px; overflow-x: auto; border: 1px solid #ddd;">{{ commit.diff }}</pre>
</div>
{% endblock %}
